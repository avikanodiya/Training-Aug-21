<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.0.2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>

<body>
    <div class="container my-4">

        <table class="table text-center" id="table">
            <thead>
                <tr>
                    <td class="col-1">Product ID</td>
                    <td class="col-5">Product Name</td>
                    <td class="col-2">Price</td>
                    <td class="col-2">Quantity</td>
                    <td class="col-2"></td>
                    <td></td>
                </tr>
            </thead>
            <tr>
                <td>1</td>
                <td>Cheese</td>
                <td>100</td>
                <td>1</td>
                <td><button class="btn btn-secondary" onclick="AddToCart(1)">Add to Cart</button></td>
            </tr>
            <tr>
                <td>2</td>
                <td>Pen</td>
                <td>150</td>
                <td>2</td>
                <td><button class="btn btn-secondary" onclick="AddToCart(2)">Add to Cart</button></td>
            </tr>
            <tr>
                <td>3</td>
                <td>Butter</td>
                <td>100</td>
                <td>1</td>
                <td><button class="btn btn-secondary" onclick="AddToCart(3)">Add to Cart</button></td>
            </tr>
            <tr>
                <td>4</td>
                <td>Pencil</td>
                <td>10</td>
                <td>1</td>
                <td><button class="btn btn-secondary" onclick="AddToCart(4)">Add to Cart</button></td>
            </tr>


        </table>
        <div class="container d-flex justify-content-end">
            <button class="btn btn-warning me-5" onclick="cartShow()">Cart</button>
        </div>

    </div>
    <table id="secondtable" class="table" style="display: none;">
        <thead>
            <tr>
                <td>ProductID</td>
                <td>ProductName</td>
                <td>Price</td>
                <td>Quantity</td>
            </tr>
        </thead>
        <tbody id="tdata">

        </tbody>
    </table>



    <script>
        var cart = [];
        var products = [
            { ProductID: 1, ProductName: "Cheese", Price: 100, Quantity: 1 },
            { ProductID: 2, ProductName: "Pen", Price: 150, Quantity: 2 },
            { ProductID: 3, ProductName: "Butter", Price: 100, Quantity: 1 },
            { ProductID: 4, ProductName: "Pencil", Price: 10, Quantity: 1 },
        ];
        const AddToCart = (item) => {
            if (item == 1) {
                cart.push(products[0]);
                if (sessionStorage.hasOwnProperty("Products")) {
                    var localData = sessionStorage.getItem("Products");
                    var jsonData = JSON.parse(localData);
                    console.log(JSON.stringify(cart));
                    sessionStorage.removeItem("Products");
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                } else {
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                }
            } else if (item == 2) {
                cart.push(products[1]);
                if (sessionStorage.hasOwnProperty("Products")) {
                    var localData = sessionStorage.getItem("Products");
                    var jsonData = JSON.parse(localData);
                    jsonData.push(products[1]);
                    sessionStorage.removeItem("Products");
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                } else {
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                }
            } else if (item == 3) {
                cart.push(products[2]);
                if (sessionStorage.hasOwnProperty("Products")) {
                    var localData = sessionStorage.getItem("Products");
                    var jsonData = JSON.parse(localData);
                    jsonData.push(products[2]);
                    sessionStorage.removeItem("Products");
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                } else {
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                }
            } else if (item == 4) {
                cart.push(products[3]);
                if (sessionStorage.hasOwnProperty("Products")) {
                    var localData = sessionStorage.getItem("Products");
                    var jsonData = JSON.parse(localData);
                    jsonData.push(products[3]);
                    sessionStorage.removeItem("Products");
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                } else {
                    sessionStorage.setItem("Products", JSON.stringify(cart));
                }
            }
        }



        const cartShow = () => {
            var x = ""
            document.getElementById("secondtable").style.display = '';
            cart.forEach((item, index) => {
                x += "<tr>" +
                    "<td>" + item.ProductID + "</td>" +
                    "<td>" + item.ProductName + "</td>" +
                    "<td>" + item.Price + "</td>" +
                    "<td>" + item.Quantity + "</td>" + "</tr>"

            })
            document.getElementById("tdata").innerHTML = x;
        }
    </script>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>